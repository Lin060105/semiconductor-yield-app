# ğŸ­ Semiconductor Yield Prediction System | åŠå°é«”è‰¯ç‡æ™ºæ…§è¨ºæ–·ç³»çµ±

[![Streamlit App](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](è«‹æŠŠé€™è£¡æ”¹æˆæ‚¨çš„Streamlitç¶²å€)
[![Python](https://img.shields.io/badge/Python-3.10-blue.svg)](https://www.python.org/)
[![PyCaret](https://img.shields.io/badge/ML-PyCaret-yellow.svg)](https://pycaret.org/)

> **é€™æ˜¯ä¸€å€‹åŸºæ–¼ AI çš„åŠå°é«”ç”¢ç·šè¼”åŠ©ç³»çµ±ï¼Œèƒ½å¤ é€éæ„Ÿæ¸¬å™¨æ•¸æ“šé æ¸¬æ™¶åœ“æ˜¯å¦ç•°å¸¸ï¼Œä¸¦æä¾›å¯è§£é‡‹æ€§åˆ†æ (SHAP) èˆ‡å‹•æ…‹æ±ºç­–é–€æª»èª¿æ•´åŠŸèƒ½ã€‚**

---

## ğŸš€ ç·šä¸Šå±•ç¤º (Live Demo)

ğŸ‘‰ **[é»æ“Šé€™è£¡é–‹å•Ÿ AI è¨ºæ–·ç³»çµ±](https://semiconductor-yield-app-tmyu9jwd7kii2zndseugtq.streamlit.app)**

*(å»ºè­°ä½¿ç”¨é›»è…¦ç€è¦½å™¨é–‹å•Ÿä»¥ç²å¾—æœ€ä½³é«”é©—)*

---

## ğŸ’¡ å°ˆæ¡ˆäº®é» (Key Features)

é€™å€‹å°ˆæ¡ˆè§£æ±ºäº†å‚³çµ±åŠå°é«”æª¢æ¸¬ä¾è³´äººå·¥è¤‡æª¢ã€æ•ˆç‡ä½è½çš„å•é¡Œã€‚

### 1. ğŸ” å–®ç­†æ·±åº¦è¨ºæ–· (Single Prediction)
- é‡å°å–®ä¸€æ™¶åœ“æ•¸æ“šé€²è¡Œå³æ™‚åˆ†æã€‚
- **å¯è§£é‡‹æ€§ AI (XAI)**ï¼šæ•´åˆ **SHAP Waterfall Plot**ï¼Œè¦–è¦ºåŒ–å‘ˆç¾å°è‡´ç•°å¸¸çš„é—œéµç‰¹å¾µï¼ˆä¾‹å¦‚ï¼š`feature_492` æ•¸å€¼éé«˜ï¼‰ï¼Œè®“å·¥ç¨‹å¸«çŸ¥é“ã€Œç‚ºä»€éº¼å£æ‰ã€ã€‚

### 2. ğŸš€ æ‰¹é‡å¿«é€Ÿç¯©é¸ (Batch Processing)
- æ”¯æ´ä¸Šå‚³ CSV æª”æ¡ˆé€²è¡Œæ•´æ‰¹æ™¶åœ“å¿«ç¯©ã€‚
- è‡ªå‹•æ¨™è¨˜é«˜é¢¨éšªæ™¶åœ“ï¼Œå¤§å¹…ç¸®çŸ­æª¢æ¸¬æ™‚é–“ã€‚

### 3. âš–ï¸ å‹•æ…‹éˆæ•åº¦èª¿æ•´ (Dynamic Threshold)
- **æ¥­ç•Œå¯¦æˆ°æ€ç¶­**ï¼šå…§å»ºã€Œæ±ºç­–é–€æª»æ‹‰æ¡¿ã€ï¼Œå…è¨±å·¥ç¨‹å¸«æ ¹æ“šç”¢ç·šéœ€æ±‚èª¿æ•´ AI çš„åš´æ ¼ç¨‹åº¦ã€‚
- **Trade-off**ï¼šæƒ³è¦ã€Œå¯§å¯éŒ¯æ®ºï¼Œä¸å¯æ”¾éã€æˆ–æ˜¯ã€Œæ¸›å°‘èª¤åˆ¤ã€ï¼Ÿç”±ä½¿ç”¨è€…æ±ºå®šã€‚

---
## ğŸ“Š æ¨¡å‹æ•ˆèƒ½è©•ä¼° (Model Evaluation)

æœ¬å°ˆæ¡ˆæ¡ç”¨ **éš¨æ©Ÿæ£®æ— (Random Forest)** æ¨¡å‹ï¼Œä¸¦é‡å°åŠå°é«”è£½ç¨‹å¸¸è¦‹çš„é¡åˆ¥ä¸å¹³è¡¡ (Class Imbalance) é€²è¡Œæ¬Šé‡å„ªåŒ–ã€‚æˆ‘å€‘é¦–è¦ç›®æ¨™æ˜¯æ¥µå¤§åŒ– **Recall (å¬å›ç‡)**ï¼Œä»¥ç¢ºä¿èƒ½æœ‰æ•ˆæ””æˆªç•°å¸¸æ™¶åœ“ï¼Œé™ä½æ¼æ¸¬é¢¨éšªã€‚

### é—œéµæŒ‡æ¨™è¡¨ç¾ (Key Metrics)

| æŒ‡æ¨™ (Metric) | æ•¸å€¼ (Score) | èªªæ˜ (Description) |
| :--- | :--- | :--- |
| **Accuracy** | `92.5%` | æ¨¡å‹æ•´é«”é æ¸¬æº–ç¢ºç‡ |
| **Recall** | `88.0%` | é‡å° Fail é¡åˆ¥çš„æª¢å‡ºèƒ½åŠ›ï¼ˆé‡é»å„ªåŒ–ï¼‰ |
| **F1 Score** | `84.2%` | ç²¾ç¢ºç‡èˆ‡å¬å›ç‡çš„å¹³è¡¡æŒ‡æ¨™ |

### æ•ˆèƒ½äº®é»
- **ç‘•ç–µæ””æˆªå„ªåŒ–**ï¼šé‡å° Fail é¡åˆ¥åŠ æ¬Šï¼Œå³ä½¿åœ¨è‰¯å“ä½”å¤šæ•¸çš„æƒ…æ³ä¸‹ï¼Œä»èƒ½æº–ç¢ºæŠ“å‡ºç‘•ç–µå“ã€‚
- **é—œéµç‰¹å¾µè­˜åˆ¥**ï¼šæ¨¡å‹èƒ½è‡ªå‹•æå–å°è‰¯ç‡å½±éŸ¿é¡¯è‘—çš„æ„Ÿæ¸¬å™¨æ•¸æ“š (Sensor Data)ï¼Œè¼”åŠ©è£½ç¨‹äººå“¡é€²è¡Œæ ¹å› åˆ†æã€‚

> ğŸ“˜ **å»¶ä¼¸é–±è®€**
> * è©³ç´°è¨“ç·´å ±å‘Š (å« Confusion Matrix, ROC-AUC)ï¼š[View Full Training Report](reports/training_report.md)
> * æ•¸æ“šè™•ç†èˆ‡ç®¡ç·šèªªæ˜ï¼š[Data Pipeline Docs](docs/data_pipeline.md)
---


## ğŸ› ï¸ æŠ€è¡“æ£§ (Tech Stack)

- **æ ¸å¿ƒèªè¨€**ï¼šPython 3.10
- **æ©Ÿå™¨å­¸ç¿’**ï¼šAutoML (PyCaret), Random Forest, Scikit-learn
- **è³‡æ–™è™•ç†**ï¼šPandas, NumPy
- **è¦–è¦ºåŒ–èˆ‡ä»‹é¢**ï¼šStreamlit, Matplotlib, SHAP
- **é›²ç«¯éƒ¨ç½²**ï¼šStreamlit Cloud

---

## ğŸ’° Business Context: Cost Matrix Analysis

åœ¨åŠå°é«”è£½é€ ä¸­ï¼Œä¸åŒé¡å‹çš„é æ¸¬éŒ¯èª¤æœƒå¸¶ä¾†ä¸åŒçš„æˆæœ¬è¡æ“Šã€‚æœ¬å°ˆæ¡ˆå…è¨±ä½¿ç”¨è€…é€é App å‹•æ…‹èª¿æ•´åˆ¤å®šé–¾å€¼ï¼ˆThresholdï¼‰ï¼Œä»¥ç¬¦åˆç•¶ä¸‹çš„å•†æ¥­ç­–ç•¥ã€‚

### æˆæœ¬çŸ©é™£ (Cost Matrix)

| å¯¦éš›ç‹€æ³ \ é æ¸¬çµæœ | é æ¸¬ Pass (0) | é æ¸¬ Fail (1) |
| :--- | :--- | :--- |
| **å¯¦éš› Pass (0)** | âœ… **True Negative**<br>æ­£å¸¸å‡ºè²¨<br>(Cost: $0) | âš ï¸ **False Positive (èª¤æ®º)**<br>æµªè²»é‡æ¸¬æˆæœ¬/å ±å»¢è‰¯å“<br>(Cost: Low ~ Medium) |
| **å¯¦éš› Fail (1)** | âŒ **False Negative (æ¼æª¢)**<br>å®¢æˆ¶é€€è²¨ã€è³ å„Ÿã€ä¿¡è­½å—æ<br>(Cost: **Very High**) | âœ… **True Positive**<br>æˆåŠŸæ””æˆªç‘•ç–µå“<br>(Cost: Saved!) |

### ç‚ºä»€éº¼éœ€è¦èª¿æ•´é–¾å€¼ (Threshold)ï¼Ÿ
- **é è¨­ (0.5)**ï¼šå¹³è¡¡æº–ç¢ºç‡èˆ‡å¬å›ç‡ã€‚
- **èª¿ä½ (e.g., 0.3)**ï¼š**åš´æ ¼æ¨¡å¼**ã€‚
  - ç›®çš„ï¼šå¯§å¯éŒ¯æ®ºï¼Œä¸å¯æ”¾éã€‚
  - é©ç”¨æƒ…å¢ƒï¼šè»Šç”¨é›»å­ã€èˆªå¤ªæ™¶ç‰‡ç­‰é«˜å¯é åº¦è¦æ±‚ç”¢å“ã€‚
  - çµæœï¼šRecall ä¸Šå‡ï¼ˆæŠ“å‡ºæ›´å¤šç‘•ç–µï¼‰ï¼Œä½† False Positive ä¹Ÿæœƒå¢åŠ ï¼ˆèª¤æ®ºè‰¯å“ï¼‰ã€‚
- **èª¿é«˜ (e.g., 0.7)**ï¼š**å¯¬é¬†æ¨¡å¼**ã€‚
  - ç›®çš„ï¼šé™ä½å ±å»¢ç‡ï¼Œç¯€çœæˆæœ¬ã€‚
  - é©ç”¨æƒ…å¢ƒï¼šæ¶ˆè²»æ€§é›»å­ï¼ˆå¦‚ä½éšç©å…·æ™¶ç‰‡ï¼‰ã€‚
 
## ğŸ’» å¦‚ä½•åœ¨æœ¬åœ°ç«¯åŸ·è¡Œ (Installation)

å¦‚æœæ‚¨æƒ³åœ¨è‡ªå·±çš„é›»è…¦ä¸Šé‹è¡Œæ­¤å°ˆæ¡ˆï¼š

1. **Clone å°ˆæ¡ˆ**
   
   git clone [https://github.com/Lin060105/semiconductor-yield-app.git](https://github.com/Lin060105/semiconductor-yield-app.git)
   
   ```bash
   cd semiconductor-yield-app

2. **å®‰è£ä¾è³´å¥—ä»¶**
```bash
pip install -r requirements.txt
```

3. **å•Ÿå‹•ç³»çµ±**
```bash
streamlit run app.py
```

## ğŸ³ Docker å¿«é€Ÿéƒ¨ç½²

ç„¡éœ€å®‰è£ Python ç’°å¢ƒï¼Œç›´æ¥ä½¿ç”¨ Docker å•Ÿå‹•ç³»çµ±ï¼š

### 1. å»ºç½®æ˜ åƒæª” (Build)
```bash
docker build -t semiconductor-yield-app .

```markdown
### 2. å•Ÿå‹•å®¹å™¨ (Run)
```bash
# å•Ÿå‹•å¾Œè«‹è¨ªå• http://localhost:8501
docker run -p 8501:8501 semiconductor-yield-app

```markdown
### 3. (é–‹ç™¼è€…) åœ¨å®¹å™¨å…§åŸ·è¡Œæ¸¬è©¦
```bash
# ä½¿ç”¨ --entrypoint ç¢ºä¿èƒ½è¦†è“‹é è¨­å•Ÿå‹•æŒ‡ä»¤
# -v $(pwd):/app è®“ä½ å¯ä»¥æ¸¬è©¦æœ¬æ©Ÿä¿®æ”¹çš„ç¨‹å¼ç¢¼ï¼Œç„¡éœ€é‡æ–° Build
# (Windows PowerShell ä½¿ç”¨è€…è«‹å°‡ $(pwd) æ”¹ç‚º ${PWD})
docker run --rm -v $(pwd):/app --entrypoint pytest semiconductor-yield-app

## ğŸ“ é–‹ç™¼ç´€éŒ„

- **Level 1**: æ•¸æ“šæ¸…æ´—èˆ‡ UCI è³‡æ–™é›†ç‰¹å¾µå·¥ç¨‹ã€‚
- **Level 2**: ä½¿ç”¨ PyCaret æ¯”è¼ƒ 10+ ç¨®æ¼”ç®—æ³•ï¼Œé¸å®š Random Forestã€‚
- **Level 3**: è§£æ±ºè³‡æ–™ä¸å¹³è¡¡å•é¡Œï¼Œå„ªåŒ– Recall ç‡ã€‚
- **Level 6**: åŠ å…¥å•†æ¥­é‚è¼¯ï¼ˆThreshold Tuningï¼‰ï¼Œè§£æ±ºæ¨¡å‹éæ–¼ä¿å®ˆçš„å•é¡Œã€‚
- **Level 7**: æˆåŠŸéƒ¨ç½²è‡³ Streamlit Cloudã€‚
